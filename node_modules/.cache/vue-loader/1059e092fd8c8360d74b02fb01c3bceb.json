{"remainingRequest":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zwnsyw/warehouse/Vue/SuperMall/src/views/detail/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/src/views/detail/Detail.vue","mtime":1580882569842},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEZXRhaWxOYXZCYXIgZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbE5hdkJhcicKaW1wb3J0IERldGFpbFN3aXBlciBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsU3dpcGVyJwppbXBvcnQgRGV0YWlsQmFzZUluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEJhc2VJbmZvJwppbXBvcnQgRGV0YWlsU2hvcEluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbFNob3BJbmZvJwppbXBvcnQgRGV0YWlsR29vZHNJbmZvIGZyb20nLi9jaGlsZENvbXBzL0RldGFpbEdvb2RzSW5mbycKaW1wb3J0IERldGFpbFBhcmFtSW5mbyBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsUGFyYW1JbmZvJwppbXBvcnQgRGV0YWlsQ29tbWVudEluZm8gZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbENvbW1lbnRJbmZvIgoKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICdjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0JwoKaW1wb3J0IFNjcm9sbCBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9zY3JvbGwvU2Nyb2xsIgoKCi8v5LiN5piv57uE5Lu277yM5Y+q5piv5pa55rOV77yM5Y+q6ZyA6KaB5a+85YWl5bCx5Y+v5Lul5ZCn5L2/55So77yM5LiN6ZyA6KaB5ZyoY29tcG9uZW50c+mHjOmdouazqOWGjAppbXBvcnQge2dldERldGFpbCwgR29vZHMsU2hvcCxHb29kc1BhcmFtLGdldFJlY29tbWVuZH0gZnJvbSAnbmV0d29yay9kZXRhaWwnCgppbXBvcnQge2RlYm91bmNlfSBmcm9tICdjb21tb24vdXRpbGVzJwppbXBvcnQge2l0ZW1MaXN0ZW5lck1peGlufSBmcm9tICdjb21tb24vbWl4aW4nCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbCIsCiAgCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlpZDogbnVsbCwKICAgICAgdG9wSW1hZ2VzOiBbXSwKICAgICAgZ29vZHM6IHt9LAogICAgICBzaG9wOnt9LAogICAgICBkZXRhaWxJbmZvOnt9LAogICAgICBwYXJhbUluZm86e30sCiAgICAgIGNvbW1lbnRJbmZvOnt9LAogICAgICByZWNvbW1lbmRzOiBbXSwKICAgICAgIGl0ZW1JbWdMaXN0ZW5lcjpudWxsLAogICAgICAgdGhlbVRvcFlzOiBbXSwKICAgICAgIGdldFRoZW1Ub3BZOiBudWxsLAogICAgICAgY3VycmVudEluZGV4OiBudWxsCiAgICAgIAogICAgfQogIH0sCiAgY29tcG9uZW50czp7CiAgICBEZXRhaWxOYXZCYXIsCiAgICBEZXRhaWxTd2lwZXIsCiAgICBHb29kcywKICAgIERldGFpbEJhc2VJbmZvLAogICAgRGV0YWlsU2hvcEluZm8sCiAgICBTY3JvbGwsCiAgICBEZXRhaWxHb29kc0luZm8sCiAgICBEZXRhaWxQYXJhbUluZm8sCiAgICBEZXRhaWxDb21tZW50SW5mbywKICAgIEdvb2RzTGlzdAogIH0sCiAgbWl4aW5zOiBbaXRlbUxpc3RlbmVyTWl4aW5dLAogIGNyZWF0ZWQoKSB7CiAgICAvLyAxLiDkv53lrZjkvKDlhaXnmoRpaWQKICAgIGNvbnNvbGUubG9nKCJiYiIsdGhpcy4kcm91dGUucGFyYW1zKQogICAgdGhpcy5paWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWlkCgogICAgLy8gMi7moLnmja5paWTor7fmsYLor6bmg4XmlbDmja4KICAgIGdldERldGFpbCh0aGlzLmlpZCkudGhlbihyZXMgPT4gewogICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAvLyAxLiDova7mkq3lm77mlbDmja4KICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMucmVzdWx0OwogICAgICB0aGlzLnRvcEltYWdlcyA9IGRhdGEuaXRlbUluZm8udG9wSW1hZ2VzCiAgICAgICAgICAvLyAyLuiOt+WPluWVhuWTgeS/oeaBrwogICAgICB0aGlzLmdvb2RzID0gbmV3IEdvb2RzKGRhdGEuaXRlbUluZm8sIGRhdGEuY29sdW1ucywgZGF0YS5zaG9wSW5mby5zZXJ2aWNlcykKICAgIAogICAgICAvLyAzLiDliJvlu7rlupfpk7rkv6Hmga/nmoTlr7nosaEKICAgICAgdGhpcy5zaG9wID0gbmV3IFNob3AoZGF0YS5zaG9wSW5mbykgIAogICAgICAKICAgICAgLy8gNC4g5L+d5a2Y5ZWG5ZOB55qE6K+m5oOF5pWw5o2uCiAgICAgIHRoaXMuZGV0YWlsSW5mbyA9IGRhdGEuZGV0YWlsSW5mbzsKCiAgICAgIC8vNS4g6I635Y+W5Y+C5pWw5L+h5oGvCiAgICAgIHRoaXMucGFyYW1JbmZvID0gbmV3IEdvb2RzUGFyYW0oZGF0YS5pdGVtUGFyYW1zLmluZm8sIGRhdGEuaXRlbVBhcmFtcy5ydWxlKQoKICAgICAgLy8gNi4g6I635Y+W6K+E6K665L+h5oGvCiAgICAgIGlmIChkYXRhLnJhdGUuY1JhdGUgIT09IDApewogICAgICAgIHRoaXMuY29tbWVudEluZm8gPSBkYXRhLnJhdGUubGlzdFswXQogICAgICB9CgogICAgICAvLyA3Luivt+axguaOqOiNkOaVsOaNrgogICAgICBnZXRSZWNvbW1lbmQoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+ivpue7humhtemdoueahOWVhuWTgeaOqOiNkOaVsOaNricscmVzKQogICAgICAgIHRoaXMucmVjb21tZW5kcyA9IHJlcy5kYXRhLmxpc3QKICAgICAgfSkKCiAgICAgIC8vIDguIOe7mWdldFRoZW1Ub3BZ6LWL5YC86L+b6KGM5a+5dGhpcy50aGVtVG9wWXPpmLLmipYKICAgICAgdGhpcy5nZXRUaGVtVG9wWSA9IGRlYm91bmNlKCgpPT57CiAgICAgICAgdGhpcy50aGVtVG9wWXMgPSBbXQogICAgICAgIHRoaXMudGhlbVRvcFlzLnB1c2goMCkKICAgICAgICB0aGlzLnRoZW1Ub3BZcy5wdXNoKHRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApCiAgICAgICAgdGhpcy50aGVtVG9wWXMucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkKICAgICAgICB0aGlzLnRoZW1Ub3BZcy5wdXNoKHRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApCiAgICAgICAgdGhpcy50aGVtVG9wWXMucHVzaChOdW1iZXIuTUFYX1ZBTFVFKQogICAgICAgIC8vIE51bWJlci5NQVhfVkFMVUUgICAgIGpz5LitbnVtYmVy57G75Z6L55qE5pyA5aSn5YC8CiAgICAgICAgY29uc29sZS5sb2codGhpcy50aGVtVG9wWXMpCiAgICAgIH0pCgogICAgICAvLyDnrKzkuIDmrKHlsJ3or5Xojrflj5blgLzvvIzlgLzkuI3lr7kKICAgICAgLy8g5Y6f5Zug77yaIHRoaXMuJHJlZnMucGFyYW1zLiRlbOWOi+agueWwsei/mOayoea4suafkwogICAgICAgIC8vIHRoaXMudGhlbVRvcFlzID0gW10KICAgICAgICAvLyB0aGlzLnRoZW1Ub3BZcy5wdXNoKDApCiAgICAgICAgLy8gdGhpcy50aGVtVG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKQogICAgICAgIC8vIHRoaXMudGhlbVRvcFlzLnB1c2godGhpcy4kcmVmcy5jb21tZW50LiRlbC5vZmZzZXRUb3ApCiAgICAgICAgLy8gdGhpcy50aGVtVG9wWXMucHVzaCh0aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGhlbVRvcFlzKQoKICAgIC8vIOesrOS6jOasoeWwneivleiOt+WPluWAvO+8jOWAvOS4jeWvuQogICAgLy8g5Y6f5Zug77yaIERPTemHjOmdoui/mOayoeacieWbvueJh++8jOWbvueJh+ayoeiuoeeul+WcqOWGhQogICAgICAvLyB0aGlzLiRuZXh0VGljaygp5qC55o2u5pyA5paw55qE5pWw5o2u77yM5riy5p+T5a6M5oiQRE9N55qE5pe25YCZ5Zue6LCD77yM5L2G5Zu+54mH5LiN5LiA5a6a5riy5p+T5a6M5oiQCiAgICAgIC8vIG9mZnNldFRvcOWAvOS4jeWvueeahOaDheWGte+8jOS4gOiIrOmDveaYr+WboOS4uuWbvueJh+WKoOi9veaFoueahOmXrumimAogICAgICAvLyB0aGlzLiRuZXh0VGljaygoKT0+ewogICAgICAvLyAgICB0aGlzLnRoZW1Ub3BZcyA9IFtdCiAgICAgIC8vICAgdGhpcy50aGVtVG9wWXMucHVzaCgwKQogICAgICAvLyAgIHRoaXMudGhlbVRvcFlzLnB1c2godGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkKICAgICAgLy8gICB0aGlzLnRoZW1Ub3BZcy5wdXNoKHRoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKQogICAgICAvLyAgIHRoaXMudGhlbVRvcFlzLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmQuJGVsLm9mZnNldFRvcCkKICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnRoZW1Ub3BZcykKICAgICAgLy8gfSkKICAgIH0pCiAgfSwKICBtZXRob2RzOnsKICAgIGltYWdlTG9hZCgpewogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCkKICAgICAgLy8g5Lya6LCD55So5aSa5qyh77yM5Yqg5Liq6Ziy5oqW5Ye95pWwCiAgICAgIC8vIHRoaXMudGhlbVRvcFlzID0gW10KICAgICAgLy8gICB0aGlzLnRoZW1Ub3BZcy5wdXNoKDApCiAgICAgIC8vICAgdGhpcy50aGVtVG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKQogICAgICAvLyAgIHRoaXMudGhlbVRvcFlzLnB1c2godGhpcy4kcmVmcy5jb21tZW50LiRlbC5vZmZzZXRUb3ApCiAgICAgIC8vICAgdGhpcy50aGVtVG9wWXMucHVzaCh0aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKQogICAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMudGhlbVRvcFlzKQogICAgICB0aGlzLmdldFRoZW1Ub3BZKCkKCiAgICB9LAogICAgdGl0bGVDbGljayhpbmRleCl7CiAgICAgIGNvbnNvbGUubG9nKCLpobbpg6jmoIfpopjvvJoiLGluZGV4KQogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwICwgIC10aGlzLnRoZW1Ub3BZc1tpbmRleF0gLCA1MDApCiAgICB9LAogICAgY29udGVudFNjcm9sbChwb3NpdGlvbil7CiAgICAgIC8vIGNvbnNvbGUubG9nKHBvc2l0aW9uKQogICAgICBjb25zdCBwb3NpdGlvblkgPSAtcG9zaXRpb24ueQoKICAgICAgLy8yLiBwb3NpdGlvblnlkozkuLvpopjkuK3nmoTlgLzov5vooYzlr7nmr5QKICAgICAgbGV0IGxlbmd0aCA9IHRoaXMudGhlbVRvcFlzLmxlbmd0aAogICAgICAvLyAyLjEuMeaZrumAmuaWueazlQogICAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspewogICAgICAvLyAgIGlmKHRoaXMuY3VycmVudEluZGV4ICE9PWkgJiYoKGkgPCBsZW5ndGggLTEgJiYgcG9zaXRpb25ZID49IHRoaXMudGhlbVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IHRoaXMudGhlbVRvcFlzW2kgKyAxXSkgfHwgKGkgPT09IGxlbmd0aCAtMSAmJiBwb3NpdGlvblkgID49ICB0aGlzLnRoZW1Ub3BZc1tpXSkpKXsKICAgICAgLy8gICAgIHRoaXMuY3VycmVudEluZGV4ID0gaQogICAgICAvLyAgICAgLy8gY29uc29sZS5sb2codGhpcy5jdXJyZW50SW5kZXgpCiAgICAgIC8vICAgICB0aGlzLiRyZWZzLmRldGFpbE5hdi5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleAogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICAvLyAyLjIuMSAgaGFja++8iOW3p+Wmme+8ieeahOaWueazle+8jOWcqOaVsOe7hOWQjumdoua3u+WKoOS4gOS4qumdnuW4uOWkp+eahOWAvO+8jOWwseWPr+S7peWPmOaIkOmAmueUqOavlOi+g++8jOecgeeVpeacgOWQjuS4gOasoeeahOeJueauiuWIpOaWrQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aCAtMTsgaSsrKXsKICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggIT09aSAmJiAocG9zaXRpb25ZID49IHRoaXMudGhlbVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IHRoaXMudGhlbVRvcFlzW2kgKyAxXSkpewogICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRJbmRleCkKICAgICAgICAgIHRoaXMuJHJlZnMuZGV0YWlsTmF2LmN1cnJlbnRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICBjb25zb2xlLmxvZygiRGV0YWlsbW91bnRlZCIpCiAgLy8gICBsZXQgUmVmcmVzaCA9IGRlYm91bmNlKHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2gsMTAwKQoKICAvLyAgICB0aGlzLml0ZW1JbWdMaXN0ZW5lciA9ICgpPT57IFJlZnJlc2goKSB9CgogIC8vICAgdGhpcy4kYnVzLiRvbignaXRlbUltZ0xvYWQnLHRoaXMuaXRlbUltZ0xpc3RlbmVyICkKICB9LAoKICBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9mZignaXRlbUltZ0xvYWQnLCB0aGlzLml0ZW1JbWdMaXN0ZW5lcikKICB9LAogIC8vIHVwZGF0ZWQoKXsKICAvLyAgIC8vIOS4gOacieaVsOaNruWPmOWMluWwseiwg+eUqCzph43lpI3osIPnlKjnmoTml7blgJnvvIzmr4/mrKHov5vmnaXlhYjotYvkuKrnqbrmlbDnu4QKICAvLyAgIHRoaXMudGhlbVRvcFlzID0gW10KICAvLyAgICB0aGlzLnRoZW1Ub3BZcy5wdXNoKDApCiAgLy8gICB0aGlzLnRoZW1Ub3BZcy5wdXNoKHRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApCiAgLy8gICB0aGlzLnRoZW1Ub3BZcy5wdXNoKHRoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKQogIC8vICAgdGhpcy50aGVtVG9wWXMucHVzaCh0aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKQogIC8vICAgY29uc29sZS5sb2codGhpcy50aGVtVG9wWXMpCiAgLy8gfQp9Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\n  <div id= \"detail\">\n   <DetailNavBar class=\"detailnavbar\" @titleClick='titleClick' ref=\"detailNav\"></DetailNavBar>\n\n   <scroll class=\"content\" ref=\"scroll\" @scroll='contentScroll' :probe-type=\"3\">\n     <!-- 属性：topImages     传值： top-images -->\n     <DetailSwiper :top-images = \"topImages\" ></DetailSwiper>\n   <DetailBaseInfo  :goods = \"goods\"></DetailBaseInfo>\n   <DetailShopInfo :shop='shop'></DetailShopInfo>\n   <DetailGoodsInfo :detail-info='detailInfo' @imageLoad='imageLoad'></DetailGoodsInfo>\n   <DetailParamInfo  ref=\"params\" :paramInfo=\"paramInfo\"></DetailParamInfo>\n   <DetailCommentInfo ref='comment' :commentInfo = 'commentInfo'></DetailCommentInfo>\n   <GoodsList ref=\"recommend\" :goods='recommends'></GoodsList>\n   </scroll>\n\n  </div>\n</template>\n\n<script>\nimport DetailNavBar from './childComps/DetailNavBar'\nimport DetailSwiper from './childComps/DetailSwiper'\nimport DetailBaseInfo from './childComps/DetailBaseInfo'\nimport DetailShopInfo from './childComps/DetailShopInfo'\nimport DetailGoodsInfo from'./childComps/DetailGoodsInfo'\nimport DetailParamInfo from './childComps/DetailParamInfo'\nimport DetailCommentInfo from \"./childComps/DetailCommentInfo\"\n\nimport GoodsList from 'components/content/goods/GoodsList'\n\nimport Scroll from \"components/common/scroll/Scroll\"\n\n\n//不是组件，只是方法，只需要导入就可以吧使用，不需要在components里面注册\nimport {getDetail, Goods,Shop,GoodsParam,getRecommend} from 'network/detail'\n\nimport {debounce} from 'common/utiles'\nimport {itemListenerMixin} from 'common/mixin'\n\nexport default {\n  name: \"Detail\",\n  \n  data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop:{},\n      detailInfo:{},\n      paramInfo:{},\n      commentInfo:{},\n      recommends: [],\n       itemImgListener:null,\n       themTopYs: [],\n       getThemTopY: null,\n       currentIndex: null\n      \n    }\n  },\n  components:{\n    DetailNavBar,\n    DetailSwiper,\n    Goods,\n    DetailBaseInfo,\n    DetailShopInfo,\n    Scroll,\n    DetailGoodsInfo,\n    DetailParamInfo,\n    DetailCommentInfo,\n    GoodsList\n  },\n  mixins: [itemListenerMixin],\n  created() {\n    // 1. 保存传入的iid\n    console.log(\"bb\",this.$route.params)\n    this.iid = this.$route.params.iid\n\n    // 2.根据iid请求详情数据\n    getDetail(this.iid).then(res => {\n      console.log(res)\n          // 1. 轮播图数据\n          const data = res.result;\n      this.topImages = data.itemInfo.topImages\n          // 2.获取商品信息\n      this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n    \n      // 3. 创建店铺信息的对象\n      this.shop = new Shop(data.shopInfo)  \n      \n      // 4. 保存商品的详情数据\n      this.detailInfo = data.detailInfo;\n\n      //5. 获取参数信息\n      this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n\n      // 6. 获取评论信息\n      if (data.rate.cRate !== 0){\n        this.commentInfo = data.rate.list[0]\n      }\n\n      // 7.请求推荐数据\n      getRecommend().then(res => {\n        console.log('详细页面的商品推荐数据',res)\n        this.recommends = res.data.list\n      })\n\n      // 8. 给getThemTopY赋值进行对this.themTopYs防抖\n      this.getThemTopY = debounce(()=>{\n        this.themTopYs = []\n        this.themTopYs.push(0)\n        this.themTopYs.push(this.$refs.params.$el.offsetTop)\n        this.themTopYs.push(this.$refs.comment.$el.offsetTop)\n        this.themTopYs.push(this.$refs.recommend.$el.offsetTop)\n        this.themTopYs.push(Number.MAX_VALUE)\n        // Number.MAX_VALUE     js中number类型的最大值\n        console.log(this.themTopYs)\n      })\n\n      // 第一次尝试获取值，值不对\n      // 原因： this.$refs.params.$el压根就还没渲染\n        // this.themTopYs = []\n        // this.themTopYs.push(0)\n        // this.themTopYs.push(this.$refs.params.$el.offsetTop)\n        // this.themTopYs.push(this.$refs.comment.$el.offsetTop)\n        // this.themTopYs.push(this.$refs.recommend.$el.offsetTop)\n        // console.log(this.themTopYs)\n\n    // 第二次尝试获取值，值不对\n    // 原因： DOM里面还没有图片，图片没计算在内\n      // this.$nextTick()根据最新的数据，渲染完成DOM的时候回调，但图片不一定渲染完成\n      // offsetTop值不对的情况，一般都是因为图片加载慢的问题\n      // this.$nextTick(()=>{\n      //    this.themTopYs = []\n      //   this.themTopYs.push(0)\n      //   this.themTopYs.push(this.$refs.params.$el.offsetTop)\n      //   this.themTopYs.push(this.$refs.comment.$el.offsetTop)\n      //   this.themTopYs.push(this.$refs.recommend.$el.offsetTop)\n      //   console.log(this.themTopYs)\n      // })\n    })\n  },\n  methods:{\n    imageLoad(){\n      this.$refs.scroll.refresh()\n      // 会调用多次，加个防抖函数\n      // this.themTopYs = []\n      //   this.themTopYs.push(0)\n      //   this.themTopYs.push(this.$refs.params.$el.offsetTop)\n      //   this.themTopYs.push(this.$refs.comment.$el.offsetTop)\n      //   this.themTopYs.push(this.$refs.recommend.$el.offsetTop)\n      //   console.log(this.themTopYs)\n      this.getThemTopY()\n\n    },\n    titleClick(index){\n      console.log(\"顶部标题：\",index)\n      this.$refs.scroll.scrollTo(0 ,  -this.themTopYs[index] , 500)\n    },\n    contentScroll(position){\n      // console.log(position)\n      const positionY = -position.y\n\n      //2. positionY和主题中的值进行对比\n      let length = this.themTopYs.length\n      // 2.1.1普通方法\n      // for(let i = 0; i < length; i++){\n      //   if(this.currentIndex !==i &&((i < length -1 && positionY >= this.themTopYs[i] && positionY < this.themTopYs[i + 1]) || (i === length -1 && positionY  >=  this.themTopYs[i]))){\n      //     this.currentIndex = i\n      //     // console.log(this.currentIndex)\n      //     this.$refs.detailNav.currentIndex = this.currentIndex\n      //   }\n      // }\n      // 2.2.1  hack（巧妙）的方法，在数组后面添加一个非常大的值，就可以变成通用比较，省略最后一次的特殊判断\n      for (let i = 0; i < length -1; i++){\n        if (this.currentIndex !==i && (positionY >= this.themTopYs[i] && positionY < this.themTopYs[i + 1])){\n          this.currentIndex = i\n          console.log(this.currentIndex)\n          this.$refs.detailNav.currentIndex = this.currentIndex\n        }\n      }\n    }\n  },\n  mounted(){\n    console.log(\"Detailmounted\")\n  //   let Refresh = debounce(this.$refs.scroll.refresh,100)\n\n  //    this.itemImgListener = ()=>{ Refresh() }\n\n  //   this.$bus.$on('itemImgLoad',this.itemImgListener )\n  },\n\n  destroyed() {\n    this.$bus.$off('itemImgLoad', this.itemImgListener)\n  },\n  // updated(){\n  //   // 一有数据变化就调用,重复调用的时候，每次进来先赋个空数组\n  //   this.themTopYs = []\n  //    this.themTopYs.push(0)\n  //   this.themTopYs.push(this.$refs.params.$el.offsetTop)\n  //   this.themTopYs.push(this.$refs.comment.$el.offsetTop)\n  //   this.themTopYs.push(this.$refs.recommend.$el.offsetTop)\n  //   console.log(this.themTopYs)\n  // }\n}\n</script>\n\n<style scoped>\n#detail{\n  position: relative;\n  z-index: 9;\n  background-color: #fff;\n  height: 100vh;\n}\n.content{\n  height: calc(100% - 44px);\n}\n.detailnavbar{\n  position: relative;\n  background-color: #fff;\n  z-index: 9;\n}\n</style>\n\n"]}]}
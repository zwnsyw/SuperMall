{"remainingRequest":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zwnsyw/warehouse/Vue/SuperMall/src/views/detail/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/src/views/detail/Detail.vue","mtime":1580654505775},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEZXRhaWxOYXZCYXIgZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbE5hdkJhcicKaW1wb3J0IERldGFpbFN3aXBlciBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsU3dpcGVyJwppbXBvcnQgRGV0YWlsQmFzZUluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEJhc2VJbmZvJwppbXBvcnQgRGV0YWlsU2hvcEluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbFNob3BJbmZvJwppbXBvcnQgRGV0YWlsR29vZHNJbmZvIGZyb20nLi9jaGlsZENvbXBzL0RldGFpbEdvb2RzSW5mbycKaW1wb3J0IERldGFpbFBhcmFtSW5mbyBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsUGFyYW1JbmZvJwoKCmltcG9ydCBTY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCIKCgovL+S4jeaYr+e7hOS7tu+8jOWPquaYr+aWueazle+8jOWPqumcgOimgeWvvOWFpeWwseWPr+S7peWQp+S9v+eUqO+8jOS4jemcgOimgeWcqGNvbXBvbmVudHPph4zpnaLms6jlhowKaW1wb3J0IHtnZXREZXRhaWwsIEdvb2RzLFNob3AsR29vZHNQYXJhbX0gZnJvbSAnbmV0d29yay9kZXRhaWwnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlpZDogbnVsbCwKICAgICAgdG9wSW1hZ2VzOiBbXSwKICAgICAgZ29vZHM6IHt9LAogICAgICBzaG9wOnt9LAogICAgICBkZXRhaWxJbmZvOnt9LAogICAgICBwYXJhbUluZm86e30sCiAgICAgIAogICAgfQogIH0sCiAgY29tcG9uZW50czp7CiAgICBEZXRhaWxOYXZCYXIsCiAgICBEZXRhaWxTd2lwZXIsCiAgICBHb29kcywKICAgIERldGFpbEJhc2VJbmZvLAogICAgRGV0YWlsU2hvcEluZm8sCiAgICBTY3JvbGwsCiAgICBEZXRhaWxHb29kc0luZm8sCiAgICBEZXRhaWxQYXJhbUluZm8KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyAxLiDkv53lrZjkvKDlhaXnmoRpaWQKICAgIGNvbnNvbGUubG9nKCJiYiIsdGhpcy4kcm91dGUucGFyYW1zKQogICAgdGhpcy5paWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWlkCgogICAgLy8gMi7moLnmja5paWTor7fmsYLor6bmg4XmlbDmja4KICAgIGdldERldGFpbCh0aGlzLmlpZCkudGhlbihyZXMgPT4gewogICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAvLyAxLiDova7mkq3lm77mlbDmja4KICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMucmVzdWx0OwogICAgICB0aGlzLnRvcEltYWdlcyA9IGRhdGEuaXRlbUluZm8udG9wSW1hZ2VzCiAgICAgICAgICAvLyAyLuiOt+WPluWVhuWTgeS/oeaBrwogICAgICB0aGlzLmdvb2RzID0gbmV3IEdvb2RzKGRhdGEuaXRlbUluZm8sIGRhdGEuY29sdW1ucywgZGF0YS5zaG9wSW5mby5zZXJ2aWNlcykKICAgIAogICAgICAvLyAzLiDliJvlu7rlupfpk7rkv6Hmga/nmoTlr7nosaEKICAgICAgdGhpcy5zaG9wID0gbmV3IFNob3AoZGF0YS5zaG9wSW5mbykgIAogICAgICAKICAgICAgLy8gNC4g5L+d5a2Y5ZWG5ZOB55qE6K+m5oOF5pWw5o2uCiAgICAgIHRoaXMuZGV0YWlsSW5mbyA9IGRhdGEuZGV0YWlsSW5mbzsKCiAgICAgIC8vNS4g6I635Y+W5Y+C5pWw5L+h5oGvCiAgICAgIHRoaXMucGFyYW1JbmZvID0gbmV3IEdvb2RzUGFyYW0oZGF0YS5pdGVtUGFyYW1zLmluZm8sIGRhdGEuaXRlbVBhcmFtcy5ydWxlKQogICAgfSkKICB9LAogIG1ldGhvZHM6ewogICAgaW1hZ2VMb2FkKCl7CiAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2goKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\n  <div id= \"detail\">\n   <DetailNavBar class=\"detailnavbar\"></DetailNavBar>\n\n   <scroll class=\"content\" ref=\"scroll\">\n     <DetailSwiper :top-images = \"topImages\" ></DetailSwiper>\n   <DetailBaseInfo  :goods = \"goods\"></DetailBaseInfo>\n   <DetailShopInfo :shop='shop'></DetailShopInfo>\n   <DetailGoodsInfo :detail-info='detailInfo' @imageLoad='imageLoad'></DetailGoodsInfo>\n   <DetailParamInfo :paramInfo=\"paramInfo\"></DetailParamInfo>\n   </scroll>\n\n  </div>\n</template>\n\n<script>\nimport DetailNavBar from './childComps/DetailNavBar'\nimport DetailSwiper from './childComps/DetailSwiper'\nimport DetailBaseInfo from './childComps/DetailBaseInfo'\nimport DetailShopInfo from './childComps/DetailShopInfo'\nimport DetailGoodsInfo from'./childComps/DetailGoodsInfo'\nimport DetailParamInfo from './childComps/DetailParamInfo'\n\n\nimport Scroll from \"components/common/scroll/Scroll\"\n\n\n//不是组件，只是方法，只需要导入就可以吧使用，不需要在components里面注册\nimport {getDetail, Goods,Shop,GoodsParam} from 'network/detail'\n\nexport default {\n  name: \"Detail\",\n  data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop:{},\n      detailInfo:{},\n      paramInfo:{},\n      \n    }\n  },\n  components:{\n    DetailNavBar,\n    DetailSwiper,\n    Goods,\n    DetailBaseInfo,\n    DetailShopInfo,\n    Scroll,\n    DetailGoodsInfo,\n    DetailParamInfo\n  },\n  created() {\n    // 1. 保存传入的iid\n    console.log(\"bb\",this.$route.params)\n    this.iid = this.$route.params.iid\n\n    // 2.根据iid请求详情数据\n    getDetail(this.iid).then(res => {\n      console.log(res)\n          // 1. 轮播图数据\n          const data = res.result;\n      this.topImages = data.itemInfo.topImages\n          // 2.获取商品信息\n      this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n    \n      // 3. 创建店铺信息的对象\n      this.shop = new Shop(data.shopInfo)  \n      \n      // 4. 保存商品的详情数据\n      this.detailInfo = data.detailInfo;\n\n      //5. 获取参数信息\n      this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n    })\n  },\n  methods:{\n    imageLoad(){\n      this.$refs.scroll.refresh()\n    }\n  }\n}\n</script>\n\n<style scoped>\n#detail{\n  position: relative;\n  z-index: 9;\n  background-color: #fff;\n  height: 100vh;\n}\n.content{\n  height: calc(100% - 44px);\n}\n.detailnavbar{\n  position: relative;\n  background-color: #fff;\n  z-index: 9;\n}\n</style>\n\n"]}]}
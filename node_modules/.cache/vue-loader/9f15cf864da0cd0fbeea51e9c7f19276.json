{"remainingRequest":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zwnsyw/warehouse/Vue/SuperMall/src/views/detail/Detail.vue?vue&type=style&index=0&id=117d0e76&scoped=true&lang=css&","dependencies":[{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/src/views/detail/Detail.vue","mtime":1580654505775},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojZGV0YWlsewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB6LWluZGV4OiA5OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgaGVpZ2h0OiAxMDB2aDsKfQouY29udGVudHsKICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDQ0cHgpOwp9Ci5kZXRhaWxuYXZiYXJ7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgei1pbmRleDogOTsKfQo="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\n  <div id= \"detail\">\n   <DetailNavBar class=\"detailnavbar\"></DetailNavBar>\n\n   <scroll class=\"content\" ref=\"scroll\">\n     <DetailSwiper :top-images = \"topImages\" ></DetailSwiper>\n   <DetailBaseInfo  :goods = \"goods\"></DetailBaseInfo>\n   <DetailShopInfo :shop='shop'></DetailShopInfo>\n   <DetailGoodsInfo :detail-info='detailInfo' @imageLoad='imageLoad'></DetailGoodsInfo>\n   <DetailParamInfo :paramInfo=\"paramInfo\"></DetailParamInfo>\n   </scroll>\n\n  </div>\n</template>\n\n<script>\nimport DetailNavBar from './childComps/DetailNavBar'\nimport DetailSwiper from './childComps/DetailSwiper'\nimport DetailBaseInfo from './childComps/DetailBaseInfo'\nimport DetailShopInfo from './childComps/DetailShopInfo'\nimport DetailGoodsInfo from'./childComps/DetailGoodsInfo'\nimport DetailParamInfo from './childComps/DetailParamInfo'\n\n\nimport Scroll from \"components/common/scroll/Scroll\"\n\n\n//不是组件，只是方法，只需要导入就可以吧使用，不需要在components里面注册\nimport {getDetail, Goods,Shop,GoodsParam} from 'network/detail'\n\nexport default {\n  name: \"Detail\",\n  data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop:{},\n      detailInfo:{},\n      paramInfo:{},\n      \n    }\n  },\n  components:{\n    DetailNavBar,\n    DetailSwiper,\n    Goods,\n    DetailBaseInfo,\n    DetailShopInfo,\n    Scroll,\n    DetailGoodsInfo,\n    DetailParamInfo\n  },\n  created() {\n    // 1. 保存传入的iid\n    console.log(\"bb\",this.$route.params)\n    this.iid = this.$route.params.iid\n\n    // 2.根据iid请求详情数据\n    getDetail(this.iid).then(res => {\n      console.log(res)\n          // 1. 轮播图数据\n          const data = res.result;\n      this.topImages = data.itemInfo.topImages\n          // 2.获取商品信息\n      this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n    \n      // 3. 创建店铺信息的对象\n      this.shop = new Shop(data.shopInfo)  \n      \n      // 4. 保存商品的详情数据\n      this.detailInfo = data.detailInfo;\n\n      //5. 获取参数信息\n      this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n    })\n  },\n  methods:{\n    imageLoad(){\n      this.$refs.scroll.refresh()\n    }\n  }\n}\n</script>\n\n<style scoped>\n#detail{\n  position: relative;\n  z-index: 9;\n  background-color: #fff;\n  height: 100vh;\n}\n.content{\n  height: calc(100% - 44px);\n}\n.detailnavbar{\n  position: relative;\n  background-color: #fff;\n  z-index: 9;\n}\n</style>\n\n"]}]}
{"remainingRequest":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/babel-loader/lib/index.js!/home/zwnsyw/warehouse/Vue/SuperMall/src/store/index.js","dependencies":[{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/src/store/index.js","mtime":1580966581024},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zwnsyw/warehouse/Vue/SuperMall/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7IC8vICAxLiDlronoo4Xmj5Lku7YKClZ1ZS51c2UoVnVleCk7IC8vIDIuIOWIm+W7unN0b3Jl5a+56LGhCgp2YXIgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIGNhckxpc3Q6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8vIG11dGF0aW9uc+WwvemHj+WBmuWNleS4gOeahOS6i+S7tu+8jGRldnRvb2xz5omN5aW96Lef6Liq5pWw5o2uCiAgICBhZGRDb3VudGVyOiBmdW5jdGlvbiBhZGRDb3VudGVyKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHBheWxvYWQuY291bnQrKzsKICAgIH0sCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jYXJMaXN0LnB1c2gocGF5bG9hZCk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBhZGRDYXJ0OiBmdW5jdGlvbiBhZGRDYXJ0KGNvbnRleHQsIHBheWxvYWQpIHsKICAgICAgLy8gY29uc29sZS5sb2cocGF5bG9hZCkKICAgICAgcGF5bG9hZC5uYW1lcyA9IDE7IC8vIGNvbnNvbGUubG9nKHBheWxvYWQpCiAgICAgIC8vIGpz5Litb2JqZWN0LmtleSA9IHZhbHVlLOWwseWPr+S7peWFiG9iamVjdOmHjOmdoua3u+WKoOaWsOeahOS4gOWvuT4+ICAgImtleSI6IHZhbHVlCiAgICAgIC8vIOS+i+Wmgu+8miBvYmo9eyJuYW1lIjogInp3bnN5dyJ9LCAgb2JqLmFnZT0gMTggICAgPj5vYmo9eyJuYW1lIjogInp3bnN5dyIsImFnZSI6IDE4fQogICAgICAvLyBwYXlsb2Fk5paw5re75Yqg55qE5ZWG5ZOBCiAgICAgIC8vIDEuIOafpeaJvuS5i+WJjeeahOaVsOe7hOS4reaYr+WQpuacieivpeWVhuWTgQoKICAgICAgdmFyIG9sZFByb2R1Y3QgPSBjb250ZXh0LnN0YXRlLmNhckxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlpZCA9PT0gcGF5bG9hZC5paWQ7CiAgICAgIH0pOyAvLyAyLiDliKTmlq1vbGRQcm9kdWN0CgogICAgICBpZiAob2xkUHJvZHVjdCkgewogICAgICAgIC8vIG9sZFByb2R1Y3QuY291bnQgKz0xCiAgICAgICAgY29udGV4dC5jb21taXQoJ2FkZENvdW50ZXInLCBvbGRQcm9kdWN0KTsKICAgICAgfSBlbHNlIHBheWxvYWQuY291bnQgPSAxLCAvLyBjb250ZXh0LnN0YXRlLmNhckxpc3QucHVzaChwYXlsb2FkKQogICAgICBjb250ZXh0LmNvbW1pdCgnYWRkVG9DYXJ0JywgcGF5bG9hZCk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9KTsgLy8gMy4g5oyC6L29VnVl5a6e5L6L5LiKCgpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/home/zwnsyw/warehouse/Vue/SuperMall/src/store/index.js"],"names":["Vue","Vuex","use","store","Store","state","carList","mutations","addCounter","payload","count","addToCart","push","actions","addCart","context","names","oldProduct","find","item","iid","commit","modules"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CAEA;;AACAD,GAAG,CAACE,GAAJ,CAAQD,IAAR,E,CAEA;;AACA,IAAME,KAAK,GAAG,IAAIF,IAAI,CAACG,KAAT,CAAe;AAC3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAG;AADL,GADoB;AAI3BC,EAAAA,SAAS,EAAE;AACT;AACAC,IAAAA,UAFS,sBAEEH,KAFF,EAEUI,OAFV,EAEkB;AACzBA,MAAAA,OAAO,CAACC,KAAR;AACD,KAJQ;AAKTC,IAAAA,SALS,qBAKCN,KALD,EAKSI,OALT,EAKiB;AACxBJ,MAAAA,KAAK,CAACC,OAAN,CAAcM,IAAd,CAAmBH,OAAnB;AACD;AAPQ,GAJgB;AAc3BI,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,mBACCC,OADD,EACUN,OADV,EACkB;AACvB;AACAA,MAAAA,OAAO,CAACO,KAAR,GAAgB,CAAhB,CAFuB,CAGvB;AACA;AACA;AAEA;AACA;;AACA,UAAIC,UAAU,GAAGF,OAAO,CAACV,KAAR,CAAcC,OAAd,CAAsBY,IAAtB,CAA2B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaX,OAAO,CAACW,GAAzB;AAAA,OAA/B,CAAjB,CATuB,CAUvB;;AACA,UAAIH,UAAJ,EAAe;AACb;AACAF,QAAAA,OAAO,CAACM,MAAR,CAAe,YAAf,EAA8BJ,UAA9B;AACD,OAHD,MAIER,OAAO,CAACC,KAAR,GAAe,CAAf,EACA;AACAK,MAAAA,OAAO,CAACM,MAAR,CAAe,WAAf,EAA6BZ,OAA7B,CAHG;AAKN;AApBM,GAdkB;AAoC3Ba,EAAAA,OAAO,EAAE;AApCkB,CAAf,CAAd,C,CAwCA;;AACA,eAAenB,KAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\n//  1. 安装插件\nVue.use(Vuex)\n\n// 2. 创建store对象\nconst store = new Vuex.Store({\n  state: {\n    carList : []\n  },\n  mutations: {\n    // mutations尽量做单一的事件，devtools才好跟踪数据\n    addCounter(state , payload){\n      payload.count++\n    },\n    addToCart(state , payload){\n      state.carList.push(payload)\n    }\n   \n  },\n  actions: {\n    addCart(context, payload){\n      // console.log(payload)\n      payload.names = 1\n      // console.log(payload)\n      // js中object.key = value,就可以先object里面添加新的一对>>   \"key\": value\n      // 例如： obj={\"name\": \"zwnsyw\"},  obj.age= 18    >>obj={\"name\": \"zwnsyw\",\"age\": 18}\n\n      // payload新添加的商品\n      // 1. 查找之前的数组中是否有该商品\n      let oldProduct = context.state.carList.find(item => item.iid === payload.iid)\n      // 2. 判断oldProduct\n      if (oldProduct){\n        // oldProduct.count +=1\n        context.commit('addCounter' , oldProduct)\n      }else(\n        payload.count =1,\n        // context.state.carList.push(payload)\n        context.commit('addToCart' , payload)\n      )\n    }\n  },\n  modules: {\n  }\n})\n\n// 3. 挂载Vue实例上\nexport default store\n"]}]}